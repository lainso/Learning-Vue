<script setup>
import Son1 from './Son1.vue';
import Son2 from './Son2.vue';
import { useCounterStore } from '../store/counter'
import { storeToRefs } from 'pinia'
// 08-å°†useCounterStoreå–å‡º
const counterStore = useCounterStore()

// è§£æ„æ•°æ®ä¼šä½¿å¾—å“åº”å¼ä¸¢å¤±ï¼Œä¸èƒ½è¿™æ ·å†™ğŸ‘‡ï¼Œä½†æ˜¯æ–¹æ³•å¯ä»¥ç›´æ¥è§£æ„
// const {count, name} = counterStore
// æ­£ç¡®æ–¹æ³•ï¼š
const { name } = storeToRefs(counterStore)

import { useChannelStore } from '../store/channel'
const ChannelStore = useChannelStore()
</script>

<template>
    <h2>æ ¹ç»„ä»¶</h2>
    <!-- 09-è®¿é—®counterStoreé‡Œé¢çš„æ•°æ® -->
    <p>Name:{{ name }}</p>
    <p>æ¤°å­åœ¨å—ï¼š{{ counterStore.judgeYe }}</p>
    <Son1 />
    <Son2 />
    <hr>
    <ul>
        <li v-for="item in ChannelStore.channelList" :key="item.id">{{ item.name }}</li>
    </ul>
    <button @click="ChannelStore.getList">è·å–æ•°æ®</button>
    <hr>

    <p>ä½œç”¨ï¼šç®¡ç†ç»´æŠ¤<span class="im">å…¨å±€</span>æ•°æ®ï¼Œä½¿å¾—æ•°æ®ä¿æŒä¸€è‡´æ€§ï¼Œæé«˜å¯ç»´æŠ¤æ€§</p>
    <h2>01-å®‰è£… & é…ç½®</h2>
    <p>cnpm install pinia</p>
    <p>
        åˆ‡æ¢åˆ°main.jså¹¶ä¿®æ”¹ï¼š<br>
    <pre>
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'

const pinia = createPinia()
const app = createApp(App)

app.use(pinia)
app.mount('#app')
    </pre>
    </p>

    <h2>02-Store</h2>
    <p>å¯ä»¥ç†è§£ä¸ºé¡¹ç›®æ•°æ®çš„ä¸€ä¸ªå…±äº«åŒºåŸŸï¼Œä¸‹åˆ†ä¸ºä¸‰ä¸ªä¸vueç±»ä¼¼çš„æ¦‚å¿µï¼š<br>
        state---data <br>
        getter---computed <br>
        action---methods <br></p>
    <p>Storeåº”ç”¨åœºæ™¯ï¼šæ˜¾ç¤ºåœ¨å¯¼èˆªæ çš„ç”¨æˆ·ä¿¡æ¯ï¼Œéœ€è¦é¡µé¢ä¿å­˜çš„æ•°æ®ç­‰</p>
    <p>ä½¿ç”¨æ–¹æ³•ï¼š<br>
        01-åˆ›å»º/src/store/xxx.jså¹¶ç¼–è¾‘<br>
        02-åœ¨éœ€è¦ä½¿ç”¨Storeçš„ç»„ä»¶ä¸­å¼•å…¥å¹¶ä½¿ç”¨</p>
</template>

<style scoped>
.im {
    color: red;
}
</style>
